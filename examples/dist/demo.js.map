{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dist/step-manager.js","webpack:///./examples/src/scripts/custom-steps.js","webpack:///./examples/src/scripts/demo.js","webpack:///./examples/src/scripts/step-people.js","webpack:///./examples/src/scripts/step-planet.js","webpack:///./examples/src/scripts/step-specie.js","webpack:///./examples/src/styles/demo.css"],"names":["CustomSteps","Steps","addEvents","buttons","currentStep","querySelectorAll","forEach","button","onClickOnListButton","e","clickOnListButton","addEventListener","preventDefault","currentTarget","classList","toggle","checkIfStepIsReadyToSubmit","renderDatasFromCache","datas","data","querySelector","key","add","getDatasFromStep","document","map","item","getAttribute","name","innerText","length","onChanged","action","Promise","resolve","options","element","setTimeout","parseFloat","window","getComputedStyle","transitionDuration","getDatas","localStorage","getItem","apiUrls","requests","url","push","fetch","then","response","json","all","people","planets","species","setItem","JSON","stringify","parse","init","stepsElement","manager","Manager","steps","StepPeople","StepPlanet","StepSpecie","onComplete","console","log","innerHTML","onChange","remove","getTemplate","index","join","canTheStepBeDisplayed","canBeDisplayed","getStepDatasToRender","results","planet","requestDatas","specie","isStepPeopleValid","isStepPlanetValid","fallbackRoute"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA,IAAI,IAAyD;AAC7D;AACA,MAAM,EAK4B;AAClC,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF,wHAAwH,mBAAmB,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iGAAiG,qBAAqB,EAAE;AACxH;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA,eAAe,OAAO;AACtB;;;AAGA;AACA,6BAA6B;AAC7B;;AAEA;;AAEA;AACA;AACA,+CAA+C;;AAE/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA,eAAe,OAAO;AACtB;;;AAGA;AACA,6BAA6B;;AAE7B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA,GAAG;AACH,kDAAkD;;AAElD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gDAAgD,+BAA+B;AAC/E;AACA;AACA;AACA;AACA;;;AAGA;AACA,mDAAmD,+BAA+B;AAClF;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gGAAgG,yDAAyD,EAAE;;AAE3J;AACA,8FAA8F,uDAAuD,EAAE;;;;;AAKvJ,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iGAAiG,gBAAgB,EAAE;AACnH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,EAAE;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;;;AAGA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA,qCAAqC;;AAErC,oCAAoC;;AAEpC;;AAEA,8FAA8F;;;AAG9F,kCAAkC;;AAElC;AACA;AACA;AACA,OAAO,EAAE;;AAET;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA,8EAA8E;;AAE9E,sEAAsE;;AAEtE;AACA;AACA;AACA,OAAO,EAAE;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,4BAA4B;;AAE5B,kDAAkD;;AAElD;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iGAAiG,eAAe,EAAE;AAClH;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,iCAAiC;AACjC;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,qBAAqB;;AAErB,kCAAkC;AAClC;;AAEA,yEAAyE;;AAEzE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA,uHAAuH;AACvH;;AAEA;AACA;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA,eAAe,OAAO;AACtB;;;AAGA;AACA;AACA;AACA,GAAG;AACH,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,oDAAoD;;AAEpD;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA,gEAAgE;;AAEhE;AACA;AACA,KAAK;AACL;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA,2CAA2C;;AAE3C;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;;;AAGA;AACA,mCAAmC;;AAEnC,2CAA2C;;AAE3C;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA,eAAe,OAAO;AACtB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA,eAAe,OAAO;AACtB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA,eAAe,OAAO;AACtB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA,eAAe,OAAO;AACtB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iGAAiG,cAAc,EAAE;AACjH,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA,yCAAyC;AACzC;;AAEA,wGAAwG;;AAExG;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA,yEAAyE;;AAEzE,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA,uBAAuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA,uBAAuB;;AAEvB;AACA;;AAEA;AACA;AACA,gEAAgE;;AAEhE;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP,UAAU;AACV,CAAC;AACD,wC;;;;;;;;;;;;AC16BA;AAAA;AAAA;AAAA;AAAA;AAEA;;;;;AAIe,MAAMA,WAAN,SAA0BC,wDAA1B,CAAgC;AAC9C;;;AAGAC,WAAS,GAAG;AACX;AACA,UAAMA,SAAN,GAFW,CAIX;;AACA,UAAMC,OAAO,GAAG,CAAC,GAAG,KAAKC,WAAL,CAAiBC,gBAAjB,CAAkC,oBAAlC,CAAJ,CAAhB;AACAF,WAAO,CAACG,OAAR,CAAiBC,MAAD,IAAY;AAC3B,WAAKC,mBAAL,GAA4BC,CAAD,IAAO;AACjC,aAAKC,iBAAL,CAAuBD,CAAvB;AACA,OAFD;;AAGAF,YAAM,CAACI,gBAAP,CAAwB,OAAxB,EAAiC,KAAKH,mBAAtC,EAA2D,KAA3D;AACA,KALD;AAMA;AAED;;;;;;;AAKAE,mBAAiB,CAACD,CAAD,EAAI;AACpBA,KAAC,CAACG,cAAF;AACAH,KAAC,CAACI,aAAF,CAAgBC,SAAhB,CAA0BC,MAA1B,CAAiC,QAAjC,EAFoB,CAIpB;;AACA,SAAKC,0BAAL;AACA;AAED;;;;;;;AAKAC,sBAAoB,CAACC,KAAD,EAAQ;AAC3BA,SAAK,CAACZ,OAAN,CAAea,IAAD,IACb,KAAKf,WAAL,CACEgB,aADF,CACiB,gCAA+BD,IAAI,CAACE,GAAI,IADzD,EAEEP,SAFF,CAEYQ,GAFZ,CAEgB,QAFhB,CADD,EAD2B,CAO3B;;AACA,SAAKN,0BAAL;AACA;AAED;;;;;;;AAKAO,kBAAgB,GAAG;AAClB;AACA,UAAML,KAAK,GAAG,CAAC,GAAGM,QAAQ,CAACnB,gBAAT,CAA0B,2BAA1B,CAAJ,EAA4DoB,GAA5D,CAAiEC,IAAD,KAAW;AACxFL,SAAG,EAAEK,IAAI,CAACC,YAAL,CAAkB,UAAlB,CADmF;AAExFC,UAAI,EAAEF,IAAI,CAACG;AAF6E,KAAX,CAAhE,CAAd;AAKA,WAAOX,KAAK,CAACY,MAAN,GAAeZ,KAAf,GAAuB,IAA9B;AACA;;AAEDa,WAAS,CAACC,MAAD,EAAS;AACjB,WAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AAC/B,WAAKC,OAAL,CAAaC,OAAb,CAAqBtB,SAArB,CAA+BkB,MAAM,KAAK,SAAX,GAAuB,QAAvB,GAAkC,KAAjE,EAAwE,QAAxE;AACAK,gBAAU,CAAC,MAAM;AAChBH,eAAO;AACP,OAFS,EAEPI,UAAU,CAACC,MAAM,CAACC,gBAAP,CAAwB,KAAKL,OAAL,CAAaC,OAArC,EAA8CK,kBAA/C,CAAV,GAA+E,IAFxE,CAAV;AAGA,KALM,CAAP;AAMA;;AArE6C,C;;;;;;;;;;;;ACN/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;;;;;AAIA,MAAMC,QAAQ,GAAG,kBAAiB;AACjC,MAAIxB,KAAK,GAAGqB,MAAM,CAACI,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAZ;;AACA,MAAI1B,KAAK,KAAK,IAAd,EAAoB;AACnB,UAAM2B,OAAO,GAAG,CACf,sCADe,EAEf,uCAFe,EAGf,uCAHe,CAAhB;AAKA,UAAMC,QAAQ,GAAG,EAAjB;AACAD,WAAO,CAACvC,OAAR,CAAiByC,GAAD,IAASD,QAAQ,CAACE,IAAT,CAAcC,KAAK,CAACF,GAAD,CAAL,CAAWG,IAAX,CAAiBC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAA9B,CAAd,CAAzB;AACAlC,SAAK,GAAG,MAAMe,OAAO,CAACoB,GAAR,CAAYP,QAAZ,EAAsBI,IAAtB,CAA2B,CAAC,CAACI,MAAD,EAASC,OAAT,EAAkBC,OAAlB,CAAD,MAAiC;AACzEF,YADyE;AAEzEC,aAFyE;AAGzEC;AAHyE,KAAjC,CAA3B,CAAd;AAKAjB,UAAM,CAACI,YAAP,CAAoBc,OAApB,CAA4B,OAA5B,EAAqCC,IAAI,CAACC,SAAL,CAAezC,KAAf,CAArC;AACA,GAdD,MAcO;AACNA,SAAK,GAAGwC,IAAI,CAACE,KAAL,CAAW1C,KAAX,CAAR;AACA;;AAED,SAAOA,KAAP;AACA,CArBD;AAuBA;;;;;;AAIA,MAAM2C,IAAI,GAAG,kBAAiB;AAC7B;AACA,QAAM3C,KAAK,GAAG,MAAMwB,QAAQ,EAA5B;AACA,QAAMoB,YAAY,GAAGtC,QAAQ,CAACJ,aAAT,CAAuB,QAAvB,CAArB,CAH6B,CAK7B;;AACA,QAAM2C,OAAO,GAAG,IAAIC,6DAAJ,CAAY;AAC3B5B,WAAO,EAAE0B,YADkB;AAE3B5C,SAAK,EAAEA,KAFoB;AAG3B+C,SAAK,EAAE,CAACC,oDAAD,EAAaC,oDAAb,EAAyBC,oDAAzB,CAHoB;AAI3BC,cAAU,EAAGnD,KAAD,IAAW;AACtBoD,aAAO,CAACC,GAAR,CAAYrD,KAAZ;AACAM,cAAQ,CAACJ,aAAT,CAAuB,YAAvB,EAAqCoD,SAArC,GAAkD,QAAOd,IAAI,CAACC,SAAL,CACxDzC,KADwD,EAExD,IAFwD,EAGxD,CAHwD,CAIvD,QAJF;AAKA,KAX0B;AAY3BuD,YAAQ,EAAE,gBAAezC,MAAf,EAAuB;AAChC,aAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AAC/B4B,oBAAY,CAAChD,SAAb,CAAuBkB,MAAM,KAAK,SAAX,GAAuB,QAAvB,GAAkC,KAAzD,EAAgE,QAAhE;AACAK,kBAAU,CAAC,MAAM;AAChBH,iBAAO;AACP,SAFS,EAEPI,UAAU,CAACC,MAAM,CAACC,gBAAP,CAAwBsB,YAAxB,EAAsCrB,kBAAvC,CAAV,GAAuE,IAFhE,CAAV;AAGA,OALM,CAAP;AAMA;AAnB0B,GAAZ,CAAhB,CAN6B,CA4B7B;;AACAsB,SAAO,CAACF,IAAR;AACArC,UAAQ,CAACJ,aAAT,CAAuB,SAAvB,EAAkCN,SAAlC,CAA4C4D,MAA5C,CAAmD,QAAnD;AACAlD,UAAQ,CAACJ,aAAT,CAAuB,QAAvB,EAAiCN,SAAjC,CAA2CQ,GAA3C,CAA+C,QAA/C;AACA,CAhCD;;AAkCAuC,IAAI,G;;;;;;;;;;;;;;;;;ACvEJ;AAEe,MAAMK,UAAN,SAAyBlE,qDAAzB,CAAqC;AAAA;AAAA;;AAAA,gCAE9C,QAF8C;;AAAA,mCAG3C,QAH2C;;AAAA,sCAIxC,cAJwC;AAAA;;AAMnD;;;;;;AAMA2E,aAAW,CAACzD,KAAD,EAAQ;AAClB;AACA,WAAQ;;;QAGFA,KAAK,CAACO,GAAN,CAAU,CAAC6B,MAAD,EAASsB,KAAT,KAAoB;;iEAE2BA,KAAM;WAC5DtB,MAAM,CAAC1B,IAAK;;;OAHf,EAMCiD,IAND,CAMM,EANN,CAMU;;;;;;;uBAThB;AAiBA;AAED;;;;;;;AAKAC,uBAAqB,GAAG;AACvB;AACA,WAAO;AACNC,oBAAc,EAAE;AADV,KAAP;AAGA;;AAEDC,sBAAoB,GAAG;AACtB,WAAO,KAAK7C,OAAL,CAAajB,KAAb,CAAmBoC,MAAnB,CAA0B2B,OAAjC;AACA;;AA/CkD,C;;;;;;;;;;;;;;;;;ACFpD;AAEe,MAAMd,UAAN,SAAyBnE,qDAAzB,CAAqC;AAAA;AAAA;;AAAA,gCAE9C,QAF8C;;AAAA,mCAG3C,QAH2C;;AAAA,sCAIxC,cAJwC;AAAA;;AAMnD;;;;;AAKA2E,aAAW,CAACzD,KAAD,EAAQ;AAClB;AACA,WAAQ;;;QAGFA,KAAK,CAACO,GAAN,CAAU,CAACyD,MAAD,EAASN,KAAT,KAAoB;;iEAE2BA,KAAM;WAC5DM,MAAM,CAACtD,IAAK;;;OAHf,EAMCiD,IAND,CAMM,EANN,CAMU;;;;;;;;;;uBAThB;AAoBA;AAED;;;;;;;AAKAC,uBAAqB,GAAG;AACvB;AACA;AACA,UAAM5D,KAAK,GAAG,KAAKiE,YAAL,CAAkB,QAAlB,CAAd,CAHuB,CAKvB;;AACA,WAAO;AACNJ,oBAAc,EAAE,CAAC,EAAE7D,KAAK,IAAIA,KAAK,CAACoC,MAAf,IAAyBpC,KAAK,CAACoC,MAAN,CAAapC,KAAxC;AADX,KAAP;AAGA;;AAED8D,sBAAoB,GAAG;AACtB,WAAO,KAAK7C,OAAL,CAAajB,KAAb,CAAmBqC,OAAnB,CAA2B0B,OAAlC;AACA;;AArDkD,C;;;;;;;;;;;;;;;;;ACFpD;AAEe,MAAMb,UAAN,SAAyBpE,qDAAzB,CAAqC;AAAA;AAAA;;AAAA,gCAE9C,QAF8C;;AAAA,mCAG3C,QAH2C;;AAAA,sCAIxC,cAJwC;;AAAA,2CAKnC,QALmC;AAAA;;AAOnD;;;;;AAKA2E,aAAW,CAACzD,KAAD,EAAQ;AAClB;AACA,WAAQ;;;QAGFA,KAAK,CAACO,GAAN,CAAU,CAAC2D,MAAD,EAASR,KAAT,KAAoB;;iEAE2BA,KAAM;WAC5DQ,MAAM,CAACxD,IAAK;;;OAHf,EAMCiD,IAND,CAMM,EANN,CAMU;;;;;;;;;;uBAThB;AAoBA;AAED;;;;;;;AAKAC,uBAAqB,GAAG;AACvB;AACA;AACA,UAAM5D,KAAK,GAAG,KAAKiE,YAAL,CAAkB,QAAlB,EAA4B,QAA5B,CAAd;AACA,UAAME,iBAAiB,GAAGnE,KAAK,IAAIA,KAAK,CAACoC,MAAf,IAAyBpC,KAAK,CAACoC,MAAN,CAAapC,KAAhE;AACA,UAAMoE,iBAAiB,GAAGpE,KAAK,IAAIA,KAAK,CAACgE,MAAf,IAAyBhE,KAAK,CAACgE,MAAN,CAAahE,KAAhE,CALuB,CAOvB;;AACA,WAAO;AACN6D,oBAAc,EAAE,CAAC,EAAEM,iBAAiB,IAAIC,iBAAvB,CADX;AAENC,mBAAa,EAAED,iBAAiB,GAAG,KAAKC,aAAR,GAAwB;AAFlD,KAAP;AAIA;;AAEDP,sBAAoB,GAAG;AACtB,WAAO,KAAK7C,OAAL,CAAajB,KAAb,CAAmBsC,OAAnB,CAA2ByB,OAAlC;AACA;;AAzDkD,C;;;;;;;;;;;ACFpD,uC","file":"demo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./examples/src/scripts/demo.js\");\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"stepManager\"] = factory();\n\telse\n\t\troot[\"stepManager\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/cache-manager.js\":\n/*!******************************!*\\\n  !*** ./src/cache-manager.js ***!\n  \\******************************/\n/*! ModuleConcatenation bailout: Module exports are unknown */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CacheManager; });\nclass CacheManager {\n  /**\n   * @param {options}\n   */\n  constructor(options) {\n    const userOptions = options || {};\n    const defaultOptions = {\n      cacheMethod: 'sessionStorage',\n      keyBrowserStorage: 'stepManager'\n    }; // Merge default options with user options\n\n    this.options = Object.assign(defaultOptions, userOptions);\n  }\n  /**\n   * Get step datas from the cache\n   *\n   * @param {Array} filters Filter the request by route\n   *\n   * @returns {Object} Datas from the cache\n   */\n\n\n  getDatasFromCache(filters) {\n    let datasToReturn = null; // Retrieve the data in the cache with the correct key\n    // Cache key is composed by profile id and a static name\n\n    const datas = window[this.options.cacheMethod].getItem(this.options.keyBrowserStorage) || null;\n\n    if (datas !== null) {\n      // Datas are stringify, parse them\n      const datasFormatted = JSON.parse(datas); // Check if datas must be filtered\n\n      datasToReturn = Array.isArray(filters) ? this.filterDatas(filters, datasFormatted) : datasFormatted;\n    }\n\n    return datasToReturn;\n  }\n  /**\n   * Filter datas from cache by keys\n   *\n   * @param {Array} filters Filters list\n   * @param {Object} datas Datas from browser storage\n   *\n   * @returns {Object} Datas filtered by keys\n   */\n\n\n  filterDatas(filters, datas) {\n    let datasToReturn = null; // Loop on all route filters and extract selected routes datas\n\n    const validKeys = Object.keys(datas).filter(key => filters.includes(key));\n\n    if (validKeys.length) {\n      datasToReturn = {};\n      validKeys.map(key => datasToReturn[key] = datas[key]);\n    }\n\n    return datasToReturn;\n  }\n  /**\n   * Set step datas to the cache\n   *\n   * @param {String} id Current step id\n   * @param {Object} datas Datas of the step\n   */\n\n\n  setDatasToCache({\n    id,\n    datas\n  }) {\n    let datasFromCache = this.getDatasFromCache(); // First time\n\n    if (!datasFromCache) {\n      datasFromCache = {};\n    }\n\n    if (!datasFromCache[id]) {\n      datasFromCache[id] = {};\n    }\n\n    datasFromCache[id].datas = datas;\n    window[this.options.cacheMethod].setItem(`${this.options.keyBrowserStorage}`, JSON.stringify(datasFromCache));\n  }\n  /**\n   * Remove datas from the cache\n   * Used only when all steps are completed\n   */\n\n\n  removeDatasFromCache() {\n    window[this.options.cacheMethod].removeItem(`${this.options.keyBrowserStorage}`);\n  }\n\n}\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! ModuleConcatenation bailout: Module exports are unknown */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./manager */ \"./src/manager.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Manager\", function() { return _manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _steps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./steps */ \"./src/steps.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Steps\", function() { return _steps__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n\n\n\n/***/ }),\n\n/***/ \"./src/manager.js\":\n/*!************************!*\\\n  !*** ./src/manager.js ***!\n  \\************************/\n/*! ModuleConcatenation bailout: Module exports are unknown */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Manager; });\n/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./router */ \"./src/router.js\");\n/* harmony import */ var _cache_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cache-manager */ \"./src/cache-manager.js\");\n\n\n/**\n * @license MIT\n * @name StepManager\n * @version 1.2.0\n * @author: Yoriiis aka Joris DANIEL <joris.daniel@gmail.com>\n * @description: StepManager is a library to create flexible and robust multiple steps navigation with hash, validations, browser storage and hook functions.\n * {@link https://github.com/yoriiis/step-manager}\n * @copyright 2020 Joris DANIEL\n **/\n\nclass Manager {\n  /**\n   * @param {options}\n   */\n  constructor(options) {\n    const userOptions = options || {};\n    const defaultOptions = {\n      element: null,\n      datas: {},\n      steps: [],\n      cacheMethod: 'sessionStorage',\n      keyBrowserStorage: 'stepManager',\n      onComplete: () => {},\n      onChange: () => {}\n    }; // Merge default options with user options\n\n    this.options = Object.assign(defaultOptions, userOptions);\n    this.isCompleted = false;\n    this.triggerPreviousStep = this.triggerPreviousStep.bind(this);\n    this.triggerNextStep = this.triggerNextStep.bind(this);\n  }\n  /**\n   * Function to initialize the Manager\n   */\n\n\n  init() {\n    this.addEvents();\n    const results = this.analyzeSteps();\n    this.steps = results.steps;\n    this.CacheManager = new _cache_manager__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n      cacheMethod: this.options.cacheMethod,\n      keyBrowserStorage: this.options.keyBrowserStorage\n    });\n    this.Router = new _router__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n      defaultRoute: results.defaultRoute,\n      stepsOrder: results.stepsOrder,\n      steps: this.steps,\n      onChange: this.options.onChange,\n      getDatasFromCache: filters => this.CacheManager.getDatasFromCache(filters)\n    }); // Initialize the router\n\n    this.Router.init();\n  }\n  /**\n   * Analyze steps and store instance\n   * Expose new methods to each steps (requestOptions, requestDatas)\n   * to access the Manager form steps\n   *\n   * @returns {Object} Object with steps instance, steps order and default route\n   */\n\n\n  analyzeSteps() {\n    const steps = {};\n    const stepsOrder = [];\n    let defaultRoute; // Loop on all available steps\n\n    this.options.steps.forEach((Step, index) => {\n      // Initialize the step to access them all along the application\n      const currentStep = new Step(); // Get the step route\n\n      const stepId = currentStep.id; // Expose new functions on each steps\n\n      currentStep.requestOptions = () => this.options;\n\n      currentStep.requestDatas = (...filters) => this.CacheManager.getDatasFromCache(filters); // Store the instance reference in class properties\n\n\n      steps[stepId] = currentStep; // Set an ordered array with routes name\n\n      stepsOrder.push({\n        id: stepId,\n        route: currentStep.route\n      }); // Save the default route\n\n      if (index === 0) {\n        defaultRoute = currentStep.route;\n      }\n    });\n    return {\n      steps,\n      stepsOrder,\n      defaultRoute\n    };\n  }\n  /**\n   * Create manager event listeners\n   * All listeners are created on class properties to facilitate the deletion of events\n   */\n\n\n  addEvents() {\n    // Create custom event to listen navigation changes from steps\n    this.eventNextStep = new window.Event('nextStep');\n    this.options.element.addEventListener('nextStep', this.triggerNextStep, false);\n    this.eventNextStep = new window.Event('previousStep');\n    this.options.element.addEventListener('previousStep', this.triggerPreviousStep, false);\n  }\n  /**\n   * Trigger next steps\n   *\n   * @param {Object} e Event listener datas\n   */\n\n\n  triggerNextStep(e) {\n    // Check if steps are completed\n    if (!this.isCompleted) {\n      const currentRouteId = this.Router.getRouteId(this.Router.currentRoute); // Get datas from the current step\n\n      const stepDatas = this.steps[currentRouteId].getDatasFromStep(); // Update cache with datas\n\n      this.CacheManager.setDatasToCache({\n        id: currentRouteId,\n        datas: stepDatas\n      }); // Trigger the next route if available\n      // Else, all steps are completed\n\n      this.Router.triggerNext() || this.allStepsComplete();\n    }\n  }\n  /**\n   * Trigger previous steps\n   *\n   * @param {Object} e Event listener datas\n   */\n\n\n  triggerPreviousStep(e) {\n    this.Router.triggerPrevious();\n  }\n  /**\n   * All steps are complete\n   */\n\n\n  allStepsComplete() {\n    this.isCompleted = true; // Freeze the display to prevent multiple submit\n\n    this.options.element.classList.add('loading'); // Execute the user callback function if available\n\n    if (typeof this.options.onComplete === 'function') {\n      this.options.onComplete(this.CacheManager.getDatasFromCache());\n    } // Clean the cache at the end\n\n\n    this.CacheManager.removeDatasFromCache();\n  }\n  /**\n   * Destroy the manager (event listeners, router)\n   */\n\n\n  destroy() {\n    this.options.element.removeEventListener('nextStep', this.triggerNextStep);\n    this.options.element.removeEventListener('previousStep', this.triggerPreviousStep);\n    this.Router.setRoute('');\n    this.Router.destroy();\n    this.options.element.remove();\n  }\n\n}\n\n/***/ }),\n\n/***/ \"./src/router.js\":\n/*!***********************!*\\\n  !*** ./src/router.js ***!\n  \\***********************/\n/*! ModuleConcatenation bailout: Module exports are unknown */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Router; });\nclass Router {\n  /**\n   * @param {options}\n   */\n  constructor(options) {\n    const userOptions = options || {};\n    const defaultOptions = {\n      defaultRoute: null,\n      stepsOrder: [],\n      steps: {},\n      getDatasFromCache: () => {},\n      onChange: () => {}\n    }; // Merge default options with user options\n\n    this.options = Object.assign(defaultOptions, userOptions);\n    this.reverseNavigation = false;\n    this.stepCreated = false;\n    this.applicationReady = false;\n    this.stepRedirected = {};\n    this.hashChanged = this.hashChanged.bind(this);\n  }\n  /**\n   * Initialize the router\n   */\n\n\n  init() {\n    this.addEvents(); // Get current route\n\n    const route = this.getRoute(); // Declare the default route\n    // If route exist, keep it, else set it to the default route\n\n    this.currentRoute = route === '' ? this.options.defaultRoute : route; // Init the router with the default route\n\n    if (route === '') {\n      this.setRoute(this.currentRoute);\n    } else {\n      // Page started with a route, trigger hash changed\n      this.hashChanged();\n    }\n  }\n  /**\n   * Create router event listeners\n   * All listeners are created on class properties to facilitate the deletion of events\n   */\n\n\n  addEvents() {\n    // Create the hash changed event of all the application\n    window.addEventListener('hashchange', this.hashChanged, false);\n  }\n  /**\n   * On hash changed event listener\n   *\n   * @param {Object} e Event listener datas\n   */\n\n\n  hashChanged(e) {\n    // Get the current route\n    const route = this.getRoute(); // Check if the step can be displayed\n\n    const datas = this.checkIfTheStepCanBeDisplay({\n      route: route,\n      event: e\n    });\n    this.currentRoute = route;\n\n    if (datas.canBeDisplayed) {\n      this.stepCanBeDisplayed(e, datas.fallbackRoute);\n    } else {\n      this.stepCantBeDisplayed(e, datas.fallbackRoute);\n    }\n  }\n  /**\n   * The step can be displayed\n   *\n   * @param {Object} e Event listener datas\n   */\n\n\n  async stepCanBeDisplayed(e) {\n    // Event listener exist when user click on next step button\n    // Event listener does not exist when setRoute is called manually\n    if (e) {\n      // Get the previous route\n      this.previousRoute = this.stepRedirected.redirect ? this.stepRedirected.previousRoute : this.getPreviousRoute(e); // Check if previous step need to be destroyed\n      // Prevent destruction when previousRoute does not exist or when user is redirected\n\n      if (this.previousRoute) {\n        // Destroy the previous step\n        await this.destroyStep(this.previousRoute); // Create the new step on destruction callback\n\n        await this.createStep(this.currentRoute);\n        this.stepCreated = true;\n      }\n    } // If destroy method was not called, create the step now\n\n\n    if (!this.stepCreated) {\n      await this.createStep(this.currentRoute);\n    } // Reset the redirect marker\n\n\n    if (this.stepRedirected.redirect) {\n      this.stepRedirected.redirect = false;\n    }\n  }\n  /**\n   * The step can't be displayed\n   * Redirect user to the previous route or the fallback route\n   *\n   * @param {Object} e Event listener datas\n   * @param {String} fallbackRoute The fallback route of the step\n   */\n\n\n  stepCantBeDisplayed(e, fallbackRoute) {\n    this.stepRedirected = {\n      redirect: true,\n      previousRoute: this.getPreviousRoute(e)\n    };\n    this.previousRoute = null; // If the step has a fallback route, use it\n\n    if (fallbackRoute) {\n      this.setRoute(fallbackRoute);\n    } else {\n      this.setRoute(this.options.defaultRoute);\n    }\n  }\n  /**\n   * Check if the step can be displayed\n   *\n   * @param {String} route Route hash\n   * @param {Object} event Event listener datas\n   *\n   * @returns {Object} Status of the step render\n   */\n\n\n  checkIfTheStepCanBeDisplay({\n    route,\n    event\n  }) {\n    const routeId = this.getRouteId(route); // Check the validity of the route\n\n    if (this.options.steps[routeId]) {\n      // Call the verification method of the step\n      // The step itself knows if it can be rendered\n      const datas = this.options.steps[routeId].canTheStepBeDisplayed();\n      return datas;\n    } else {\n      let fallbackRoute = this.options.defaultRoute; // Get fallback route from previous route if exist\n\n      const previousRoute = this.getPreviousRoute(event);\n      const previousRouteId = this.getRouteId(previousRoute);\n\n      if (previousRoute) {\n        if (this.options.steps[previousRouteId].fallbackRoute) {\n          fallbackRoute = this.options.steps[previousRouteId].fallbackRoute;\n        }\n      } // Unknown route, redirect to the fallback route\n\n\n      return {\n        canBeDisplayed: false,\n        fallbackRoute: fallbackRoute\n      };\n    }\n  }\n  /**\n   * Create a step\n   *\n   * @param {String} route Route of the step\n   */\n\n\n  async createStep(route) {\n    // Get datas from cache before render the step\n    const routeId = this.getRouteId(route);\n    const stepDatas = this.options.getDatasFromCache([routeId]); // Call the render method of the step\n\n    if (stepDatas) {\n      this.options.steps[routeId].render(stepDatas[routeId].datas);\n    } else {\n      this.options.steps[routeId].render();\n    } // Prevent step created before application ready\n\n\n    if (!this.applicationReady) {\n      this.applicationReady = true;\n    }\n\n    if (typeof this.options.onChange === 'function') {\n      await this.options.onChange('create');\n    }\n  }\n  /**\n   * Destroy a step\n   *\n   * @param {String} route Route of the step\n   */\n\n\n  async destroyStep(route) {\n    const routeId = this.getRouteId(route); // await this.options.steps[routeId].onChanged('destroy');\n\n    if (typeof this.options.onChange === 'function') {\n      await this.options.onChange('destroy');\n    } // Call the destroy method of the step\n\n\n    this.options.steps[routeId].destroy();\n  }\n  /**\n   * Trigger next step navigation\n   *\n   * @returns {Boolean} Is the next step exist?\n   */\n\n\n  triggerNext() {\n    this.reverseNavigation = false; // Store the current route as the previous route because the route hasn't changed yet\n\n    this.previousRoute = this.currentRoute; // Redirect to the next route or at the end\n\n    const nextRoute = this.getNextStepRoute(this.currentRoute);\n\n    if (nextRoute !== 'end') {\n      this.setRoute(nextRoute);\n      return true;\n    } else {\n      return false;\n    }\n  }\n  /**\n   * Trigger previous step navigation\n   */\n\n\n  triggerPrevious() {\n    this.reverseNavigation = true; // Store the current route as the previous route because the route hasn't changed yet\n\n    this.previousRoute = this.currentRoute;\n    const previousRoute = this.getPreviousStepRoute(this.previousRoute);\n    this.setRoute(previousRoute);\n  }\n  /**\n   * Get route id from the step\n   *\n   * @param {String} route Route\n   *\n   * @returns {String} Route id\n   */\n\n\n  getRouteId(route) {\n    const routeStep = this.options.stepsOrder.find(step => step.route === route);\n    return routeStep ? routeStep.id : null;\n  }\n  /**\n   * Get the previous route\n   *\n   * @param {Object} event Event listener datas\n   *\n   * @returns {String} Previous route\n   */\n\n\n  getPreviousRoute(e) {\n    return e && e.oldURL ? e.oldURL.split('#')[1] : null;\n  }\n  /**\n   * Get the previous route from the step order array\n   * If there is no previous step, the function return \"end\"\n   *\n   * @param {String} route Current route\n   *\n   * @returns {String} Previous route or \"end\"\n   */\n\n\n  getPreviousStepRoute(route) {\n    const indexCurrentRoute = parseInt(this.getIndexFromRoute(route));\n    const previousStep = this.options.stepsOrder[indexCurrentRoute - 1];\n    return previousStep ? previousStep.route : this.options.defaultRoute;\n  }\n  /**\n   * Get the next route from the step order array\n   * If there is no next step, the function return \"end\"\n   *\n   * @param {String} route Current route\n   *\n   * @returns {String} Next route or \"end\"\n   */\n\n\n  getNextStepRoute(route) {\n    const indexCurrentRoute = parseInt(this.getIndexFromRoute(route));\n    const nextStep = this.options.stepsOrder[indexCurrentRoute + 1];\n    return nextStep ? nextStep.route : 'end';\n  }\n  /**\n   * Get index of the route from the step order array\n   *\n   * @returns {Integer} Index of the route\n   */\n\n\n  getIndexFromRoute(route) {\n    return this.options.stepsOrder.findIndex(step => {\n      return step.route === route;\n    });\n  }\n  /**\n   * Get the current route\n   *\n   * @returns {Array} Current route\n   */\n\n\n  getRoute() {\n    return window.location.hash.substr(1);\n  }\n  /**\n   * Set the route\n   *\n   * @returns {String} route New value for the route\n   */\n\n\n  setRoute(route) {\n    window.location.hash = route;\n  }\n  /**\n   * Destroy the router (event listeners)\n   */\n\n\n  destroy() {\n    window.removeEventListener('hashchange', this.hashChanged);\n  }\n\n}\n\n/***/ }),\n\n/***/ \"./src/steps.js\":\n/*!**********************!*\\\n  !*** ./src/steps.js ***!\n  \\**********************/\n/*! ModuleConcatenation bailout: Module exports are unknown */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Steps; });\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Steps {\n  // Set public instance fields\n  constructor() {\n    _defineProperty(this, \"fallbackRoute\", null);\n\n    _defineProperty(this, \"optionalStep\", false);\n\n    this.clickOnCurrentStep = this.clickOnCurrentStep.bind(this);\n  }\n  /**\n   * Render the step\n   *\n   * @param {Object} datas Datas from the cache\n   */\n\n\n  render(datas) {\n    this.options = this.requestOptions(); // Insert the generated HTML for the step\n    // Get the template from the specific class and send it datas\n\n    this.options.element.insertAdjacentHTML('beforeend', this.getTemplate(this.getStepDatasToRender())); // The DOM is up to date, trigger the after render method with datas from the cache\n\n    this.afterRender(datas);\n  }\n  /**\n   * Function executed after the render of the step\n   *\n   * @param {Object} datas Datas from the cache\n   */\n\n\n  afterRender(datas) {\n    // Set cached selector\n    this.currentStep = this.options.element.querySelector(this.selector); // Add event listeners\n\n    this.addEvents(); // If datas from cache exist and specific class has the appropriate method, render datas from the cache\n\n    if (datas && this.renderDatasFromCache) {\n      this.renderDatasFromCache(datas);\n    }\n  }\n  /**\n   * Get the step datas for the render function\n   *\n   * @returns {null} The default behavior return empty datas\n   */\n\n\n  getStepDatasToRender() {\n    return null;\n  }\n  /**\n   * Destroy the step\n   */\n\n\n  destroy() {\n    // Remove events add by the master class\n    this.removeEvents(); // Remove the DOM element\n\n    this.currentStep.remove();\n  }\n  /**\n   * Create steps event listeners (common on all specific step)\n   * All listeners are created on class properties to facilitate the deletion of events\n   */\n\n\n  addEvents() {\n    // Use event delegation for better performance\n    this.currentStep.addEventListener('click', this.clickOnCurrentStep, false);\n  }\n  /**\n   * Click event listener on the step\n   *\n   * @param {Object} e Event listener datas\n   */\n\n\n  clickOnCurrentStep(e) {\n    const target = e.target;\n\n    if (target.nodeName.toLowerCase() === 'button' && target.hasAttribute('data-step-previous')) {\n      // Click on the previous step button\n      this.clickToPreviousStep(e);\n    } else if (target.nodeName.toLowerCase() === 'button' && target.hasAttribute('data-step-next')) {\n      // Click on the next step button\n      this.clickToNextStep(e);\n    }\n  }\n  /**\n   * Event listener to click on the next step button\n   *\n   * @param {Object} e Event listener datas\n   */\n\n\n  clickToNextStep(e) {\n    e.preventDefault(); // Click is authorized when the step is ready to submit or if the step is optional\n\n    if (this.stepIsReadyToSubmit || this.optionalStep) {\n      // Dispatch the custom event to the Manager\n      this.options.element.dispatchEvent(new window.CustomEvent('nextStep'));\n    }\n  }\n  /**\n   * Event listener to click on the previous step button\n   *\n   * @param {Object} e Event listener datas\n   */\n\n\n  clickToPreviousStep(e) {\n    e.preventDefault(); // Dispatch the custom event to the Manager\n\n    this.options.element.dispatchEvent(new window.CustomEvent('previousStep'));\n  }\n\n  checkIfStepIsReadyToSubmit() {\n    // If the specific class contains local datas, the step is ready to submit\n    this.stepIsReadyToSubmit = this.getDatasFromStep() !== null; // Update the submit button\n\n    this.updateButtonToValidateStep();\n  }\n  /**\n   * Update the submit button\n   */\n\n\n  updateButtonToValidateStep() {\n    const button = this.currentStep.querySelector('[data-step-next]');\n\n    if (this.stepIsReadyToSubmit || this.optionalStep) {\n      button.classList.remove('disabled');\n    } else {\n      button.classList.add('disabled');\n    }\n  }\n  /**\n   * Remove steps event listeners\n   */\n\n\n  removeEvents() {\n    this.currentStep.removeEventListener('click', this.clickOnCurrentStep);\n  }\n\n}\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=step-manager.js.map","import { Steps } from '../../../dist/step-manager';\n\n/**\n * Custom steps extends Steps\n * To prevent code duplication between steps People, Planet and Specie for common codes\n */\nexport default class CustomSteps extends Steps {\n\t/**\n\t * Create steps event listeners (common on all specific step)\n\t */\n\taddEvents() {\n\t\t// Execute the method of the steps class before this one\n\t\tsuper.addEvents();\n\n\t\t// Add event listener on all buttons\n\t\tconst buttons = [...this.currentStep.querySelectorAll('[data-list-button]')];\n\t\tbuttons.forEach((button) => {\n\t\t\tthis.onClickOnListButton = (e) => {\n\t\t\t\tthis.clickOnListButton(e);\n\t\t\t};\n\t\t\tbutton.addEventListener('click', this.onClickOnListButton, false);\n\t\t});\n\t}\n\n\t/**\n\t * Event listener on button click\n\t *\n\t * @param {Object} e Event listener datas\n\t */\n\tclickOnListButton(e) {\n\t\te.preventDefault();\n\t\te.currentTarget.classList.toggle('active');\n\n\t\t// Check if the step is ready to submit\n\t\tthis.checkIfStepIsReadyToSubmit();\n\t}\n\n\t/**\n\t * Render step datas from the cache\n\t *\n\t * @param {Object} datas Datas from the cache\n\t */\n\trenderDatasFromCache(datas) {\n\t\tdatas.forEach((data) =>\n\t\t\tthis.currentStep\n\t\t\t\t.querySelector(`[data-list-button][data-key=\"${data.key}\"]`)\n\t\t\t\t.classList.add('active')\n\t\t);\n\n\t\t// Verify if the step can be directly submitted\n\t\tthis.checkIfStepIsReadyToSubmit();\n\t}\n\n\t/**\n\t * Get datas from this step\n\t *\n\t * @returns {Object} Local datas of the step\n\t */\n\tgetDatasFromStep() {\n\t\t// Search all active buttons and extract content\n\t\tconst datas = [...document.querySelectorAll('[data-list-button].active')].map((item) => ({\n\t\t\tkey: item.getAttribute('data-key'),\n\t\t\tname: item.innerText\n\t\t}));\n\n\t\treturn datas.length ? datas : null;\n\t}\n\n\tonChanged(action) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.options.element.classList[action === 'destroy' ? 'remove' : 'add']('active');\n\t\t\tsetTimeout(() => {\n\t\t\t\tresolve();\n\t\t\t}, parseFloat(window.getComputedStyle(this.options.element).transitionDuration) * 1000);\n\t\t});\n\t}\n}\n","import StepPeople from './step-people';\nimport StepPlanet from './step-planet';\nimport StepSpecie from './step-specie';\nimport { Manager } from '../../../dist/step-manager.js';\nimport '../styles/demo.css';\n\n/**\n * Get datas from SWAPI\n * Store datas in browser storage to improve performance\n */\nconst getDatas = async function() {\n\tlet datas = window.localStorage.getItem('swapi');\n\tif (datas === null) {\n\t\tconst apiUrls = [\n\t\t\t'https://swapi.dev/api/people/?page=1',\n\t\t\t'https://swapi.dev/api/planets/?page=1',\n\t\t\t'https://swapi.dev/api/species/?page=1'\n\t\t];\n\t\tconst requests = [];\n\t\tapiUrls.forEach((url) => requests.push(fetch(url).then((response) => response.json())));\n\t\tdatas = await Promise.all(requests).then(([people, planets, species]) => ({\n\t\t\tpeople,\n\t\t\tplanets,\n\t\t\tspecies\n\t\t}));\n\t\twindow.localStorage.setItem('swapi', JSON.stringify(datas));\n\t} else {\n\t\tdatas = JSON.parse(datas);\n\t}\n\n\treturn datas;\n};\n\n/**\n * Initialize the manager with 3 steps (People, Planet and Specie)\n * On complete action, JSON datas are display in the page and the console\n */\nconst init = async function() {\n\t// Get datas from SWAPI\n\tconst datas = await getDatas();\n\tconst stepsElement = document.querySelector('#steps');\n\n\t// Instanciate the Manager\n\tconst manager = new Manager({\n\t\telement: stepsElement,\n\t\tdatas: datas,\n\t\tsteps: [StepPeople, StepPlanet, StepSpecie],\n\t\tonComplete: (datas) => {\n\t\t\tconsole.log(datas);\n\t\t\tdocument.querySelector('.container').innerHTML = `<pre>${JSON.stringify(\n\t\t\t\tdatas,\n\t\t\t\tnull,\n\t\t\t\t2\n\t\t\t)}</pre>`;\n\t\t},\n\t\tonChange: async function(action) {\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tstepsElement.classList[action === 'destroy' ? 'remove' : 'add']('active');\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tresolve();\n\t\t\t\t}, parseFloat(window.getComputedStyle(stepsElement).transitionDuration) * 1000);\n\t\t\t});\n\t\t}\n\t});\n\n\t// Initialize and build the steps\n\tmanager.init();\n\tdocument.querySelector('.loader').classList.remove('active');\n\tdocument.querySelector('#steps').classList.add('active');\n};\n\ninit();\n","import CustomSteps from './custom-steps';\n\nexport default class StepPeople extends CustomSteps {\n\t// Set public instance fields\n\tid = 'people';\n\troute = 'people';\n\tselector = '.step-people';\n\n\t/**\n\t * Get step template\n\t * Template come from the specific template variable templateStep\n\t *\n\t * @returns {Object} Generated HTML for the step\n\t */\n\tgetTemplate(datas) {\n\t\t/* prettier-ignore */\n\t\treturn `<div class=\"step-people\">\n                    <h2 class=\"title\">Choose your favorites people</h2>\n\t\t\t\t\t<ul class=\"list\">\n\t\t\t\t\t\t${datas.map((people, index) => `\n\t\t\t\t\t\t\t<li class=\"list-item\">\n\t\t\t\t\t\t\t\t<button class=\"list-button\" data-list-button data-key=\"${index}\">\n\t\t\t\t\t\t\t\t\t${people.name}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t`).join('')}\n\t\t\t\t\t</ul>\n\t\t\t\t\t<ul class=\"nav\">\n\t\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn disabled\" data-step-next>Next step</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n                </div>`;\n\t}\n\n\t/**\n\t * Check if the step can be displayed\n\t *\n\t * @returns {Object} Status of the render of the step\n\t */\n\tcanTheStepBeDisplayed() {\n\t\t// The step can be displayed if the following conditions are resolved:\n\t\treturn {\n\t\t\tcanBeDisplayed: true\n\t\t};\n\t}\n\n\tgetStepDatasToRender() {\n\t\treturn this.options.datas.people.results;\n\t}\n}\n","import CustomSteps from './custom-steps';\n\nexport default class StepPlanet extends CustomSteps {\n\t// Set public instance fields\n\tid = 'planet';\n\troute = 'planet';\n\tselector = '.step-planet';\n\n\t/**\n\t * Get step template\n\t *\n\t * @returns {Object} Generated HTML for the step\n\t */\n\tgetTemplate(datas) {\n\t\t/* prettier-ignore */\n\t\treturn `<div class=\"step-planet\">\n                    <h2 class=\"title\">Choose your favorites planet</h2>\n\t\t\t\t\t<ul class=\"list\">\n\t\t\t\t\t\t${datas.map((planet, index) => `\n\t\t\t\t\t\t\t<li class=\"list-item\">\n\t\t\t\t\t\t\t\t<button class=\"list-button\" data-list-button data-key=\"${index}\">\n\t\t\t\t\t\t\t\t\t${planet.name}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t`).join('')}\n\t\t\t\t\t</ul>\n\t\t\t\t\t<ul class=\"nav\">\n\t\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t\t<button class=\"btn\" data-step-previous>Previous step</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn disabled\" data-step-next>Next step</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n                </div>`;\n\t}\n\n\t/**\n\t * Check if the step can be displayed\n\t *\n\t * @returns {Object} Status of the render of the step\n\t */\n\tcanTheStepBeDisplayed() {\n\t\t// Request datas from the Manager for the previous steps\n\t\t// Method is exposed by the Manager on each class instance\n\t\tconst datas = this.requestDatas('people');\n\n\t\t// The step can be displayed if the following conditions are resolved:\n\t\treturn {\n\t\t\tcanBeDisplayed: !!(datas && datas.people && datas.people.datas)\n\t\t};\n\t}\n\n\tgetStepDatasToRender() {\n\t\treturn this.options.datas.planets.results;\n\t}\n}\n","import CustomSteps from './custom-steps';\n\nexport default class StepSpecie extends CustomSteps {\n\t// Set public instance fields\n\tid = 'specie';\n\troute = 'specie';\n\tselector = '.step-specie';\n\tfallbackRoute = 'planet';\n\n\t/**\n\t * Get step template\n\t *\n\t * @returns {Object} Generated HTML for the step\n\t */\n\tgetTemplate(datas) {\n\t\t/* prettier-ignore */\n\t\treturn `<div class=\"step-specie\">\n                    <h2 class=\"title\">Choose your favorites specie</h2>\n\t\t\t\t\t<ul class=\"list\">\n\t\t\t\t\t\t${datas.map((specie, index) => `\n\t\t\t\t\t\t\t<li class=\"list-item\">\n\t\t\t\t\t\t\t\t<button class=\"list-button\" data-list-button data-key=\"${index}\">\n\t\t\t\t\t\t\t\t\t${specie.name}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t`).join('')}\n\t\t\t\t\t</ul>\n\t\t\t\t\t<ul class=\"nav\">\n\t\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t\t<button class=\"btn\" data-step-previous>Previous step</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn disabled\" data-step-next>Submit</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n                </div>`;\n\t}\n\n\t/**\n\t * Check if the step can be displayed\n\t *\n\t * @returns {Object} Status of the render of the step\n\t */\n\tcanTheStepBeDisplayed() {\n\t\t// Request datas from the Manager for the previous steps\n\t\t// Method is exposed by the Manager on each class instance\n\t\tconst datas = this.requestDatas('people', 'planet');\n\t\tconst isStepPeopleValid = datas && datas.people && datas.people.datas;\n\t\tconst isStepPlanetValid = datas && datas.planet && datas.planet.datas;\n\n\t\t// The step can be displayed if the following conditions are resolved:\n\t\treturn {\n\t\t\tcanBeDisplayed: !!(isStepPeopleValid && isStepPlanetValid),\n\t\t\tfallbackRoute: isStepPlanetValid ? this.fallbackRoute : 'people'\n\t\t};\n\t}\n\n\tgetStepDatasToRender() {\n\t\treturn this.options.datas.species.results;\n\t}\n}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}